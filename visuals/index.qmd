---
title: "Visual Gallery"
page-layout: full
format:
  html:
    toc: false
execute:
  cache: false     # force re-run
  freeze: false
---

## Gallery of All Charts

A gallery view of all charts by [The Data Recoded](https://x.com/TheDataDecoded). Click any image to open its detailed visualization page.

```{r echo=FALSE}
root <- rprojroot::find_root(rprojroot::has_file("_quarto.yml"))
```

```{r, echo=FALSE, results='asis'}
# set the root directory
knitr::opts_knit$set(root.dir = root)

# List all PNGs under project-root/plots (this file lives in visuals/)
files <- list.files("plots", pattern = "\\.png$", full.names = FALSE)

if (length(files) == 0) {
  cat("<p><em>No PNGs found in <code>plots/</code>.</em></p>")
} else {
  # Build HTML cards linking image -> corresponding html page in /visuals/
  cat("<div class='gallery'>\n")
  for (fn in files) {
    page <- sub("\\.png$", ".html", fn)  # 2025-01_airbnb-demand.png -> 2025-01_airbnb-demand.html
    img  <- paste0("../plots/", fn)      # relative to visuals/index.qmd
    # Emit HTML (no %s placeholders)
    cat(paste0(
      "<a href='", page, "' target='_blank'>",
      "<img src='", img, "' style='width:100%; height:420px; object-fit:contain; margin-bottom:1em; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.2);'>",
      "</a>\n"
    ))
  }
  cat("</div>\n")
}
```