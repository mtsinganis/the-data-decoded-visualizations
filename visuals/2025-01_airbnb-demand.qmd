---
title: "Airbnb Demand in the UK (2018–2024)"
date: "2025-01-10"
categories: [tourism, airbnb, uk]
image: ../plots/2025-01_airbnb-demand.png
description: "Trend in guest nights based on AirDNA data."
format: html
execute:
  dir: project
---

```{r}
root <- rprojroot::find_root(rprojroot::has_file("_quarto.yml"))
```


```{r knitr::opts_knit$set(root.dir = root)}
# Load required packages
library(tidyverse)
library(rprojroot)


# Source custom ggplot theme
message("Current working directory: ", getwd())
source("R/theme_data_decoded.R")

# Apply theme globally
theme_set(theme_data_decoded())

# Read dataset
airbnb <- read_csv("data/airbnb_demand_uk_2018_2024.csv")

# Create plot
p <- ggplot(airbnb, aes(x = year, y = demand, group = 1)) +
  geom_line(linewidth = 1.2, color = "#192951") +
  geom_point(size = 2.5, color = "#192951") +
  scale_y_continuous(labels = scales::comma) +
  labs(
    title = "Airbnb Guest Nights in the UK (2018–2024)",
    subtitle = "Based on AirDNA data covering guest nights across Airbnb listings",
    x = "Year",
    y = "Guest Nights",
    caption = "Source: AirDNA"
  ) +
  annotate("text", x = 2021, y = 40000000, label = "Some text") +
  theme_data_decoded()

# Show plot in the page
p

# Save thumbnail for homepage card (explicit path)
out_file <- file.path(root, "plots", "2025-01_airbnb-demand.png")
ggsave(filename = out_file, plot = p, width = 8, height = 5, dpi = 96)
```