[
  {
    "objectID": "visuals/2025-01-airbnb-demand/index.html",
    "href": "visuals/2025-01-airbnb-demand/index.html",
    "title": "Airbnb Demand in the UK (2018‚Äì2024)",
    "section": "",
    "text": "Text explaining chart"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "The Data Decoded",
    "section": "",
    "text": "Welcome to The Data Decoded ‚Äî a living gallery of data stories and charts shared on X (Twitter). The data sets, R code and charts can be found in the channel‚Äôs GitHub page.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe massive Venezuelan exodus during Maduro‚Äôs rule\n\n\n\nVenezuela\n\nRefugees\n\nMaduro\n\n\n\nAn analysis of UNHCR data (2013-2025)\n\n\n\nJan 11, 2026\n\n\n\n\n\n\n\n\n\n\n\n\n\nHow have tourist arrivals in Israel changed since the outbreak of the Gaza War?\n\n\n\nIsrael\n\nTourism\n\nGaza War\n\n\n\nTourist arrivals by world region (2022-2025)\n\n\n\nJan 7, 2026\n\n\n\n\n\n\n\n\n\n\n\n\n\nEurope‚Äôs 2025 Thermal Extremes: From Sub-Zero Frost to Mediterranean Heat\n\n\n\nEurope\n\nTemperature\n\nMeteoStat\n\n\n\nA look at the minimum and maximum temperatures recorded\n\n\n\nDec 29, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nWhich European countries spend most on their military?\n\n\n\nEurope\n\nUkraine\n\nRussia\n\nMilitary expenditure\n\n\n\nA ranking of Europe‚Äôs top military spenders in absolute terms and as share of their GDP (2000-2024, SIPRI)\n\n\n\nDec 19, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nHow to add rectangular, square or round country flags to ggplots\n\n\n\nR\n\nggplot\n\nflags\n\nDataViz\n\nCorruption Index\n\n\n\nAn example comparing the Corruption Perception Index Europe‚Äôs Big Four (France, Germany, UK and Italy) in 2024\n\n\n\nDec 16, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nPerceived levels of public sector corruption by world region\n\n\n\ncorruption\n\nTransparency International\n\nWorld Regions\n\n\n\nCorruption Perceptions Index (CPI) in the period 2012-2024\n\n\n\nDec 9, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nA comparison of the relative fragility and institutional resilience of the U.S. and Somalia.\n\n\n\nfragility\n\ngovernance\n\nusa\n\nsomalia\n\n\n\nFragile States Index ranking of U.S. and Somalia (2013‚Äì2023)\n\n\n\nDec 8, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nPerceived levels of public sector corruption in the U.S. and Somalia\n\n\n\ncorruption\n\nTransparency International\n\nusa\n\nsomalia\n\n\n\nCorruption Perceptions Index (CPI) in the U.S. and Somalia (2012‚Äì2024)\n\n\n\nDec 7, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nWhy Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets\n\n\n\nSTR\n\nEurope\n\noccupancy\n\nAirDNA\n\nTourism\n\n\n\nAn analysis of occupancy data from Europe‚Äôs top 25 largest short-term rental markets in 2024\n\n\n\nNov 26, 2025\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "visuals/2025-11-04-str-europe-peak-season/index.html",
    "href": "visuals/2025-11-04-str-europe-peak-season/index.html",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "",
    "text": "Despite huge differences in climate, latitude, and traveler motivation, Europe‚Äôs short-term rental markets (STRs) behave as if they run on the same clock. From the sun-baked Mediterranean to the cool Nordics, occupancy levels surge in the exact same six-week window every year: July and August. This is not a weather story‚Äîit‚Äôs the result of Europe‚Äôs synchronized school calendars, summer workplace shutdowns, airline capacity cycles, and a continent-wide cultural preference for the ‚Äúbig summer holiday.‚Äù In this article, we look at the factors that drive this pattern and we analyse short-term rental data to quantify shows a structural pattern: Europe travels together."
  },
  {
    "objectID": "visuals/2025-11-04-str-europe-peak-season/index.html#text-explaining-chart",
    "href": "visuals/2025-11-04-str-europe-peak-season/index.html#text-explaining-chart",
    "title": "Short-term rental market peak season by world region",
    "section": "",
    "text": "Figure caption"
  },
  {
    "objectID": "visuals/2025-11-04-str-europe-peak-season/index.html#europe-has-a-structurally-synchronized-holiday-calendar",
    "href": "visuals/2025-11-04-str-europe-peak-season/index.html#europe-has-a-structurally-synchronized-holiday-calendar",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "1. Europe has a structurally synchronized holiday calendar",
    "text": "1. Europe has a structurally synchronized holiday calendar\nAcross the continent, school holidays and collective holiday periods concentrate in late June to early September, with the peak in July-August. This alignment drives demand because:\n\nFamilies-one of the largest segments of STR users-are restricted to summer breaks.\nMany workplaces still follow traditional summer shutdown or reduced-operations periods.\nItalians, French, and Spanish workers take long annual holidays in August (e.g., Italy‚Äôs Ferragosto, France‚Äôs les vacances d‚Äô√©t√©), creating spillover demand both domestically and abroad.\n\nThis continental synchronization effectively compresses demand into a two-month window, regardless of climate differences among markets."
  },
  {
    "objectID": "visuals/2025-11-04-str-europe-peak-season/index.html#aviation-and-transport-capacity-peak-in-summer",
    "href": "visuals/2025-11-04-str-europe-peak-season/index.html#aviation-and-transport-capacity-peak-in-summer",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "2. Aviation and transport capacity peak in summer",
    "text": "2. Aviation and transport capacity peak in summer\nAirlines and rail operators shift massive capacity into the July-August period:\n\nMore routes and higher frequency of flights\nSeasonal connections to secondary leisure airports (Greek islands, Spanish coast, Nordics, Alps)\nLower perceived travel risk (weather delays, cancellations)\n\nThis expanded capacity lowers effective travel friction and allows markets across Europe to feel the same demand pulse, even if their climates differ."
  },
  {
    "objectID": "visuals/2025-11-04-str-europe-peak-season/index.html#europe-wide-cultural-preference-for-summer-travel",
    "href": "visuals/2025-11-04-str-europe-peak-season/index.html#europe-wide-cultural-preference-for-summer-travel",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "3. Europe-wide cultural preference for summer travel",
    "text": "3. Europe-wide cultural preference for summer travel\nSurveying travel patterns across the EU shows summer as the ‚Äúdefault‚Äù vacation season. Key reasons:\n\nWarmer temperatures (even in northern Europe) unlock beaches, lakes, outdoor dining, and cultural festivals.\nSeasonal attractions (coastal towns, islands, national parks) fully activate only in summer.\nShared European tradition of ‚Äúthe big summer holiday,‚Äù shaping expectations around ideal travel timing.\n\nThis cultural norm harmonizes seasonality across markets."
  },
  {
    "objectID": "visuals/2025-11-04-str-europe-peak-season/index.html#in-hotter-southern-markets-july-august-remains-peak-due-to-international-not-domestic-demand",
    "href": "visuals/2025-11-04-str-europe-peak-season/index.html#in-hotter-southern-markets-july-august-remains-peak-due-to-international-not-domestic-demand",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "4. In hotter southern markets, July-August remains peak due to international-not domestic-demand",
    "text": "4. In hotter southern markets, July-August remains peak due to international-not domestic-demand\nSouthern Europe becomes extremely hot in mid-summer, which leads domestic travelers to:\n\nTravel earlier in June or later in September\nFavor mountains and cooler regions\nBook shorter trips\n\nBut international arrivals (especially from northern Europe, the US, Canada, and Latin America) overwhelm these domestic shifts. Long-haul travelers:\n\nAre tied to summer school schedules and fixed vacation periods\nPrefer guarantee of sun (even very hot sun)\nSpend more per stay on coastal or island destinations\n\nThus, international travel volume compensates for heat-avoidance behavior among locals."
  },
  {
    "objectID": "visuals/2025-11-04-str-europe-peak-season/index.html#long-daylight-hours-push-travel-demand-northward",
    "href": "visuals/2025-11-04-str-europe-peak-season/index.html#long-daylight-hours-push-travel-demand-northward",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "5. Long daylight hours push travel demand northward",
    "text": "5. Long daylight hours push travel demand northward\nNorthern Europe has a major seasonal advantage: the longest and brightest days of the year occur in June-August, making these months uniquely appealing for:\n\nOutdoor recreation\nCity tourism\nFestival and events season\nNature-based trips (Nordic fjords, Scottish Highlands, German and Swiss lakes)\n\nEven though the climate is milder than the Mediterranean, consumer demand responds much more strongly to daylight than to absolute temperature, which explains the high occupancy in northern markets."
  },
  {
    "objectID": "visuals/2025-11-04-str-europe-peak-season/index.html#july-august-is-the-period-of-highest-international-tourist-arrivals-to-europe",
    "href": "visuals/2025-11-04-str-europe-peak-season/index.html#july-august-is-the-period-of-highest-international-tourist-arrivals-to-europe",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "6. July-August is the period of highest international tourist arrivals to Europe",
    "text": "6. July-August is the period of highest international tourist arrivals to Europe\nUNWTO and Eurostat data consistently show that:\n\nInternational arrivals to Europe spike sharply in Q3.\nFor many countries, July and August represent 30-40% of annual tourism inflows.\n\nSince the STR market is highly dependent on international visitors in major cities and leisure destinations, occupancy peaks align across the continent."
  },
  {
    "objectID": "visuals/2025-11-04-str-europe-peak-season/index.html#supply-side-patterns-amplify-the-demand-concentration",
    "href": "visuals/2025-11-04-str-europe-peak-season/index.html#supply-side-patterns-amplify-the-demand-concentration",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "7. Supply-side patterns amplify the demand concentration",
    "text": "7. Supply-side patterns amplify the demand concentration\nSTR supply also increases in summer:\n\nRural homeowners open second homes for tourism only in July-August.\nSeasonal hosts in coastal and alpine regions list properties during the profitable summer period.\nHotels run close to full capacity, pushing overflow demand into STRs.\n\nThis synchronized supply expansion meets the synchronized demand shock-further reinforcing the July-August peak."
  },
  {
    "objectID": "visuals/2025-11-04-str-europe-peak-season/index.html#introduction",
    "href": "visuals/2025-11-04-str-europe-peak-season/index.html#introduction",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "",
    "text": "Despite huge differences in climate, latitude, and traveler motivation, Europe‚Äôs short-term rental markets (STRs) behave as if they run on the same clock. From the sun-baked Mediterranean to the cool Nordics, occupancy levels surge in the exact same six-week window every year: July and August. This is not a weather story‚Äîit‚Äôs the result of Europe‚Äôs synchronized school calendars, summer workplace shutdowns, airline capacity cycles, and a continent-wide cultural preference for the ‚Äúbig summer holiday.‚Äù In this article, we look at the factors that drive this pattern and we analyse short-term rental data to quantify shows a structural pattern: Europe travels together."
  },
  {
    "objectID": "visuals/2025-11-04-str-europe-peak-season/index.html#europes-summer-clock-the-seven-factors-that-align-travel-demand",
    "href": "visuals/2025-11-04-str-europe-peak-season/index.html#europes-summer-clock-the-seven-factors-that-align-travel-demand",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "Europe‚Äôs summer clock: the seven factors that align travel demand",
    "text": "Europe‚Äôs summer clock: the seven factors that align travel demand\n\n1. Europe has a structurally synchronized holiday calendar\nAcross the continent, school holidays and collective holiday periods concentrate in late June to early September, with the peak in July-August. This alignment drives demand because:\n\nFamilies-one of the largest segments of STR users-are restricted to summer breaks.\nMany workplaces still follow traditional summer shutdown or reduced-operations periods.\nItalians, French, and Spanish workers take long annual holidays in August (e.g., Italy‚Äôs Ferragosto, France‚Äôs les vacances d‚Äô√©t√©), creating spillover demand both domestically and abroad.\n\nThis continental synchronization effectively compresses demand into a two-month window, regardless of climate differences among markets.\n\n\n2. Aviation and transport capacity peak in summer\nAirlines and rail operators shift massive capacity into the July-August period:\n\nMore routes and higher frequency of flights\nSeasonal connections to secondary leisure airports (Greek islands, Spanish coast, Nordics, Alps)\nLower perceived travel risk (weather delays, cancellations)\n\nThis expanded capacity lowers effective travel friction and allows markets across Europe to feel the same demand pulse, even if their climates differ.\n\n\n3. Europe-wide cultural preference for summer travel\nSurveying travel patterns across the EU shows summer as the ‚Äúdefault‚Äù vacation season. Key reasons:\n\nWarmer temperatures (even in northern Europe) unlock beaches, lakes, outdoor dining, and cultural festivals.\nSeasonal attractions (coastal towns, islands, national parks) fully activate only in summer.\nShared European tradition of ‚Äúthe big summer holiday,‚Äù shaping expectations around ideal travel timing.\n\nThis cultural norm harmonizes seasonality across markets.\n\n\n4. In hotter southern markets, July-August remains peak due to international-not domestic-demand\nSouthern Europe becomes extremely hot in mid-summer, which leads domestic travelers to:\n\nTravel earlier in June or later in September\nFavor mountains and cooler regions\nBook shorter trips\n\nBut international arrivals (especially from northern Europe, the US, Canada, and Latin America) overwhelm these domestic shifts. Long-haul travelers:\n\nAre tied to summer school schedules and fixed vacation periods\nPrefer guarantee of sun (even very hot sun)\nSpend more per stay on coastal or island destinations\n\nThus, international travel volume compensates for heat-avoidance behavior among locals.\n\n\n5. Long daylight hours push travel demand northward\nNorthern Europe has a major seasonal advantage: the longest and brightest days of the year occur in June-August, making these months uniquely appealing for:\n\nOutdoor recreation\nCity tourism\nFestival and events season\nNature-based trips (Nordic fjords, Scottish Highlands, German and Swiss lakes)\n\nEven though the climate is milder than the Mediterranean, consumer demand responds much more strongly to daylight than to absolute temperature, which explains the high occupancy in northern markets.\n\n\n6. July-August is the period of highest international tourist arrivals to Europe\nUNWTO and Eurostat data consistently show that:\n\nInternational arrivals to Europe spike sharply in Q3.\nFor many countries, July and August represent 30-40% of annual tourism inflows.\n\nSince the STR market is highly dependent on international visitors in major cities and leisure destinations, occupancy peaks align across the continent.\n\n\n7. Supply-side patterns amplify the demand concentration\nSTR supply also increases in summer:\n\nRural homeowners open second homes for tourism only in July-August.\nSeasonal hosts in coastal and alpine regions list properties during the profitable summer period.\nHotels run close to full capacity, pushing overflow demand into STRs.\n\nThis synchronized supply expansion meets the synchronized demand shock-further reinforcing the July-August peak."
  },
  {
    "objectID": "visuals/2025-11-04-str-europe-peak-season/index.html#what-do-the-str",
    "href": "visuals/2025-11-04-str-europe-peak-season/index.html#what-do-the-str",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "What do the STR",
    "text": "What do the STR"
  },
  {
    "objectID": "visuals/2025-11-04-str-europe-peak-season/index.html#what-do-the-str-industry-data-reveal",
    "href": "visuals/2025-11-04-str-europe-peak-season/index.html#what-do-the-str-industry-data-reveal",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "What do the STR industry data reveal?",
    "text": "What do the STR industry data reveal?"
  },
  {
    "objectID": "visuals/2025-12-us-somalia-corruption-index/index.html",
    "href": "visuals/2025-12-us-somalia-corruption-index/index.html",
    "title": "Corruption Perceptions Index of US and Somalia (2012‚Äì2024)",
    "section": "",
    "text": "Text explaining chart"
  },
  {
    "objectID": "visuals/2025-12-import-flags-ggplot/index.html",
    "href": "visuals/2025-12-import-flags-ggplot/index.html",
    "title": "How to add rectangular, square or round country flags to ggplots",
    "section": "",
    "text": "When building visualizations in ggplot2 involving international data, the temptation to replace standard axis text or points with country flags is strong. We naturally associate countries with their flags, and using them can instantly make a chart feel more personalized and engaging.\nHowever, data visualization is a balancing act between aesthetics and clarity. While flags can add context, they can just as easily turn into ‚Äúchart junk‚Äù-visual elements that clutter the message rather than enhancing it. Before importing that library of PNGs, it is important to weigh whether the flags will help your reader understand the data or just distract them from it.\nHere is a quick breakdown of the trade-offs:\nThe Pros üü¢\n\nImmediate Recognition: Users can often identify a flag faster than reading a text label, especially for well-known countries.\nVisual Appeal: It breaks up the monotony of text and bars, making the graphic more ‚Äúshareable‚Äù and eye-catching.\nSpace Saving: In some dense plots, a small flag icon takes up less width than writing out a long name like ‚ÄúUnited Kingdom‚Äù or ‚ÄúDominican Republic.‚Äù\n\nThe Cons üî¥\n\nVisual Clutter: High-contrast, multi-colored flags can distract the eye from the actual data trends (bars or lines).\nAccessibility: Not everyone knows every flag. relying solely on them can confuse readers who aren‚Äôt geography buffs.\nTechnical Challenges: Flags come in different aspect ratios (some are square, some are wide rectangles), which can make alignment and consistent sizing in ggplot tricky.\n\nSince I often find myself wanting to include flags in charts, I have written a function that downloads all the country flags for the countries included in the data frame I supply."
  },
  {
    "objectID": "visuals/2025-12-import-flags-ggplot/index.html#using-flags-in-data-visualization",
    "href": "visuals/2025-12-import-flags-ggplot/index.html#using-flags-in-data-visualization",
    "title": "How to add rectangular, square or round country flags to ggplots",
    "section": "",
    "text": "When building visualizations in ggplot2 involving international data, the temptation to replace standard axis text or points with country flags is strong. We naturally associate countries with their flags, and using them can instantly make a chart feel more personalized and engaging.\nHowever, data visualization is a balancing act between aesthetics and clarity. While flags can add context, they can just as easily turn into ‚Äúchart junk‚Äù-visual elements that clutter the message rather than enhancing it. Before importing that library of PNGs, it is important to weigh whether the flags will help your reader understand the data or just distract them from it.\nHere is a quick breakdown of the trade-offs:\nThe Pros üü¢\n\nImmediate Recognition: Users can often identify a flag faster than reading a text label, especially for well-known countries.\nVisual Appeal: It breaks up the monotony of text and bars, making the graphic more ‚Äúshareable‚Äù and eye-catching.\nSpace Saving: In some dense plots, a small flag icon takes up less width than writing out a long name like ‚ÄúUnited Kingdom‚Äù or ‚ÄúDominican Republic.‚Äù\n\nThe Cons üî¥\n\nVisual Clutter: High-contrast, multi-colored flags can distract the eye from the actual data trends (bars or lines).\nAccessibility: Not everyone knows every flag. relying solely on them can confuse readers who aren‚Äôt geography buffs.\nTechnical Challenges: Flags come in different aspect ratios (some are square, some are wide rectangles), which can make alignment and consistent sizing in ggplot tricky.\n\nSince I often find myself wanting to include flags in charts, I have written a function that downloads all the country flags for the countries included in the data frame I supply."
  },
  {
    "objectID": "visuals/2025-12-import-flags-ggplot/index.html#get_country_flags-a-custom-function-for-downloading-country-flags",
    "href": "visuals/2025-12-import-flags-ggplot/index.html#get_country_flags-a-custom-function-for-downloading-country-flags",
    "title": "How to add rectangular, square or round country flags to ggplots",
    "section": "get_country_flags: A custom function for downloading country flags",
    "text": "get_country_flags: A custom function for downloading country flags\nget_country_flags has the following arguments:\n\n.data: data frame containing a column with country names in any format (full names, iso3, etc.)\ncountry_col: data frame column containing the country names\nshape: desired flag shape (options include 4x3, 1x1 and round)\nwhite.background: should white flag color be replaced by a darker color for contrast? Defaults to TRUE (white color)\ndest_folder: folder where country flags should be saved\noverride.stop: whether to override checks of existing flags\n\nThe country flags are downloaded from an excellent gallery by Panayiotis Lipiridis, which contains flags in both a 4x3 (rectangular) and a 1x1 (square) format. The URL paths to each flag use the ISO2 country codes. For example, the 4x3 flag for Greece is given by the URL https://flagicons.lipis.dev/flags/4x3/gr.svg. All flags are available in SVG format. Since it is not possible to add SVG images directly on ggplot charts, my function converts them into PNG format. Once the flags are added to the chart it is possible to save the entire chart in SVG format, taking advantage of the properties of that format.\nThe function goes through the following steps:\n\nChecks if dest_folder already exists. If not, it creates it\nPulls the unique countries mentioned in the data frame\nDetects the country format (e.g.¬†full name, iso2, iso3, etc.), uses the countrycode package to convert the names into the ISO2 code format matching the URL of the flag gallery, and adds the codes to a new column called ISO2\nGenerates country_flags, a data frame with the following columns:\n\nISO2: each country‚Äôs ISO2 code\nflag_url: path to the gallery URL for each country\npng_file_path: path for new png flag generated from the SVG flags in the gallery\n\nDefines and uses circular_crop_and_save, another function which actually downloads the images from the gallery. First, the function checks which flag shape is desired and whether the white flag color should be changed to a different color. It then downloads either the 4x3 or 1x1 flags. If shape = round, it download the 1x1 flags and crops them into a circular shape. circular_crop_and_save is iterated through the country_flags list."
  },
  {
    "objectID": "visuals/2025-11-str-europe-peak-season/index.html",
    "href": "visuals/2025-11-str-europe-peak-season/index.html",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "",
    "text": "Despite huge differences in climate, latitude, and traveler motivation, Europe‚Äôs short-term rental markets (STRs) behave as if they run on the same clock. From the sun-baked Mediterranean to the cool Nordics, occupancy levels surge in the exact same six-week window every year: July and August. This is not a weather story‚Äîit‚Äôs the result of Europe‚Äôs synchronized school calendars, summer workplace shutdowns, airline capacity cycles, and a continent-wide cultural preference for the ‚Äúbig summer holiday.‚Äù In this article, we look at the factors that drive this pattern and we analyse short-term rental data to quantify shows a structural pattern: Europe travels together."
  },
  {
    "objectID": "visuals/2025-11-str-europe-peak-season/index.html#introduction",
    "href": "visuals/2025-11-str-europe-peak-season/index.html#introduction",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "",
    "text": "Despite huge differences in climate, latitude, and traveler motivation, Europe‚Äôs short-term rental markets (STRs) behave as if they run on the same clock. From the sun-baked Mediterranean to the cool Nordics, occupancy levels surge in the exact same six-week window every year: July and August. This is not a weather story‚Äîit‚Äôs the result of Europe‚Äôs synchronized school calendars, summer workplace shutdowns, airline capacity cycles, and a continent-wide cultural preference for the ‚Äúbig summer holiday.‚Äù In this article, we look at the factors that drive this pattern and we analyse short-term rental data to quantify shows a structural pattern: Europe travels together."
  },
  {
    "objectID": "visuals/2025-11-str-europe-peak-season/index.html#europes-summer-clock-the-seven-factors-that-align-travel-demand",
    "href": "visuals/2025-11-str-europe-peak-season/index.html#europes-summer-clock-the-seven-factors-that-align-travel-demand",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "Europe‚Äôs summer clock: the seven factors that align travel demand",
    "text": "Europe‚Äôs summer clock: the seven factors that align travel demand\n\n1. Europe has a structurally synchronized holiday calendar\nAcross the continent, school holidays and collective holiday periods concentrate in late June to early September, with the peak in July-August. This alignment drives demand because:\n\nFamilies-one of the largest segments of STR users-are restricted to summer breaks.\nMany workplaces still follow traditional summer shutdown or reduced-operations periods.\nItalians, French, and Spanish workers take long annual holidays in August (e.g., Italy‚Äôs Ferragosto, France‚Äôs les vacances d‚Äô√©t√©), creating spillover demand both domestically and abroad.\n\nThis continental synchronization effectively compresses demand into a two-month window, regardless of climate differences among markets.\n\n\n2. Aviation and transport capacity peak in summer\nAirlines and rail operators shift massive capacity into the July-August period:\n\nMore routes and higher frequency of flights\nSeasonal connections to secondary leisure airports (Greek islands, Spanish coast, Nordics, Alps)\nLower perceived travel risk (weather delays, cancellations)\n\nThis expanded capacity lowers effective travel friction and allows markets across Europe to feel the same demand pulse, even if their climates differ.\n\n\n3. Europe-wide cultural preference for summer travel\nSurveying travel patterns across the EU shows summer as the ‚Äúdefault‚Äù vacation season. Key reasons:\n\nWarmer temperatures (even in northern Europe) unlock beaches, lakes, outdoor dining, and cultural festivals.\nSeasonal attractions (coastal towns, islands, national parks) fully activate only in summer.\nShared European tradition of ‚Äúthe big summer holiday,‚Äù shaping expectations around ideal travel timing.\n\nThis cultural norm harmonizes seasonality across markets.\n\n\n4. In hotter southern markets, July-August remains peak due to international-not domestic-demand\nSouthern Europe becomes extremely hot in mid-summer, which leads domestic travelers to:\n\nTravel earlier in June or later in September\nFavor mountains and cooler regions\nBook shorter trips\n\nBut international arrivals (especially from northern Europe, the US, Canada, and Latin America) overwhelm these domestic shifts. Long-haul travelers:\n\nAre tied to summer school schedules and fixed vacation periods\nPrefer guarantee of sun (even very hot sun)\nSpend more per stay on coastal or island destinations\n\nThus, international travel volume compensates for heat-avoidance behavior among locals.\n\n\n5. Long daylight hours push travel demand northward\nNorthern Europe has a major seasonal advantage: the longest and brightest days of the year occur in June-August, making these months uniquely appealing for:\n\nOutdoor recreation\nCity tourism\nFestival and events season\nNature-based trips (Nordic fjords, Scottish Highlands, German and Swiss lakes)\n\nEven though the climate is milder than the Mediterranean, consumer demand responds much more strongly to daylight than to absolute temperature, which explains the high occupancy in northern markets.\n\n\n6. July-August is the period of highest international tourist arrivals to Europe\nUNWTO and Eurostat data consistently show that:\n\nInternational arrivals to Europe spike sharply in Q3.\nFor many countries, July and August represent 30-40% of annual tourism inflows.\n\nSince the STR market is highly dependent on international visitors in major cities and leisure destinations, occupancy peaks align across the continent.\n\n\n7. Supply-side patterns amplify the demand concentration\nSTR supply also increases in summer:\n\nRural homeowners open second homes for tourism only in July-August.\nSeasonal hosts in coastal and alpine regions list properties during the profitable summer period.\nHotels run close to full capacity, pushing overflow demand into STRs.\n\nThis synchronized supply expansion meets the synchronized demand shock-further reinforcing the July-August peak."
  },
  {
    "objectID": "visuals/2025-11-str-europe-peak-season/index.html#what-do-the-str-industry-data-reveal",
    "href": "visuals/2025-11-str-europe-peak-season/index.html#what-do-the-str-industry-data-reveal",
    "title": "Why Europe travels together: the drivers behind the July‚ÄìAugust peak across the continent‚Äôs short-term rental markets",
    "section": "What do the STR industry data reveal?",
    "text": "What do the STR industry data reveal?"
  },
  {
    "objectID": "visuals/2025-12-import-flags-ggplot/index.html#reproducible-example",
    "href": "visuals/2025-12-import-flags-ggplot/index.html#reproducible-example",
    "title": "How to add rectangular, square or round country flags to ggplots",
    "section": "Reproducible example",
    "text": "Reproducible example\nBelow I present an example of how to download country flags and add them to a ggplot chart. There is bonus inset map as well.\n\n# Load packages\nlibrary(tidyverse)\nlibrary(gapminder)\nlibrary(magick)\nlibrary(purrr)\nlibrary(rsvg)\nlibrary(glue)\nlibrary(countrycode)\nlibrary(janitor)\nlibrary(httr)\nlibrary(readxl)\nlibrary(dplyr)\nlibrary(giscoR)\nlibrary(sf)\nlibrary(showtext)\nlibrary(ggtext)\nlibrary(patchwork)\nlibrary(ggimage)\n\n\n# Set project path\nproject_path &lt;- file.path(\"visuals\", \"2025-12-import-flags-ggplot\")\n\n\n# Definition of 'get_country_flags' function\nget_country_flags &lt;- function(.data, # data frame\n                              country_col, # column containing countries\n                              shape, # desired flag shape\n                              white.background = TRUE, # Preserve white color? If not, specify new color\n                              dest_folder = paste0(project_path, \"/data/country_flags\"), # where flags should be saved\n                              override.stop = FALSE\n                              ){\n    \n    # Update path based on flag shape. Flags of different shapes are stored in different folders\n    dest_folder &lt;- file.path(dest_folder, shape)\n    \n    # Create 'dest_folder' if it does not exist yet\n    if (!dir.exists(dest_folder)) {\n        dir.create(dest_folder, recursive = TRUE, showWarnings = FALSE)\n        message(paste0(\"'\", dest_folder, \"'\", \" was created\"))\n    } else {\n      message(paste(\"Folder\", dest_folder, \"already exists\"))\n    }\n    \n    # Check whether flags need to be cropped to square (1x1 or round flags)\n    if (shape %in% c(\"1x1\", \"round\")) {\n        flag_format &lt;- \"1x1\"\n    } else {\n        flag_format &lt;- \"4x3\"\n    }\n    \n    # Store data frame as 'df'\n    df &lt;- .data\n    \n    # Get list of distint countries\n    country_list &lt;- df %&gt;% distinct(.data[[country_col]]) %&gt;% pull()\n    \n    # Guess the code/name of a vector\n    field_guess &lt;- guess_field(country_list)\n    best_guess &lt;- field_guess[1,\"code\"]\n\n    print(best_guess) # print top match\n    \n    # If the guess is any type of \"name\" (cow.name, country.name.en, etc.),\n    # we force the origin to be 'country.name'. \n    # This enables the package's powerful Regex/Fuzzy matching.\n    # If we leave it as 'cow.name', it attempts strict exact matching and fails on typos.\n    if (grepl(\"name\", best_guess, ignore.case = TRUE)) {\n        valid_origin &lt;- \"country.name\"\n        message(\"Detected a name format. Switching origin to 'country.name' for better matching.\")\n    } else {\n        valid_origin &lt;- best_guess\n    }\n\n    # Add ISO2 and ISO3 column to data frame if it does not already exist\n    if (!grepl(\"iso2\", best_guess, ignore.case = TRUE)) {\n        df &lt;- df %&gt;% mutate(ISO2 = countrycode(.data[[country_col]],\n                                           origin = valid_origin,\n                                           destination = \"iso2c\"),\n                            ISO3 = countrycode(.data[[country_col]],\n                                           origin = valid_origin,\n                                           destination = \"iso3c\"))\n    }\n    \n    # Create data frame of country flags to be downloaded, generate URL path and file path\n    country_flags &lt;- tibble(ISO2 = unique(df$ISO2),\n                            ISO3 = unique(df$ISO3),\n                            country_territory = unique(df$country_territory),\n                            flag_url = paste0(\"https://flagicons.lipis.dev/flags/\",\n                                              flag_format, \"/\",\n                                              tolower(ISO2),\n                                              \".svg\"),\n                            png_file_path = paste0(file.path(dest_folder, tolower(ISO2)),\n                                                   \".png\") # add PNG destination\n    )\n    \n    # Check if flags have already been downloaded and processed. If yes, step is skipped\n    missing_flags &lt;- country_flags %&gt;% filter(!file.exists(png_file_path)) %&gt;% pull(png_file_path)\n    \n    if (length(missing_flags) == 0 & override.stop == FALSE){\n        message(\"Flags are already availabe. Use 'override.stop == TRUE' if you want to download anyway\")\n        return(country_flags)\n    } else {\n    # ---------- Main processing function ----------\n    # Render 4:3 SVG flag -&gt; (optional) recolor exact whites in SVG -&gt; square crop -&gt; circular mask -&gt; PNG\n    circular_crop_and_save &lt;- function(\n      iso2_code, url, dest_path,\n      px = 1400,\n      white_hex = white.background,        # e.g. \"#EEEEEE\" to recolor exact whites in the SVG\n      replace_stroke = FALSE   # set TRUE if you also want white strokes recolored\n    ) {\n      # 1) Load SVG text from URL\n      svg_text &lt;- paste(readLines(url, warn = FALSE), collapse = \"\\n\")\n  \n      # 2) Optionally recolor exact white tokens in the SVG\n      if (!isTRUE(white_hex)) {\n        # Replace exact white fills (and optionally strokes) in raw SVG text\n        recolor_svg_white &lt;- function(svg_text, new_hex = white.background, replace_stroke = FALSE) {\n          col &lt;- toupper(new_hex)\n          if (!grepl(\"^#\", col)) col &lt;- paste0(\"#\", col)\n      \n          # Build patterns: attribute forms (fill=\"white\"), (stroke=\"#fff\") and style forms (fill:#fff;)\n          parts &lt;- c(\"fill\", if (replace_stroke) \"stroke\" else NULL)\n          attr_pat &lt;- sprintf(\"(?i)\\\\b(%s)\\\\s*=\\\\s*\\\"\\\\s*(?:#fff(?:fff)?|white)\\\\s*\\\"\",\n                              paste(parts, collapse=\"|\"))\n          attr_rep &lt;- sprintf(\"\\\\1=\\\"%s\\\"\", col)\n      \n          style_pat &lt;- sprintf(\"(?i)\\\\b(%s)\\\\s*:\\\\s*(?:#fff(?:fff)?|white)\\\\b\", paste(parts, collapse=\"|\"))\n          style_rep &lt;- sprintf(\"\\\\1:%s\", col)\n      \n          # Apply both replacements\n          out &lt;- gsub(attr_pat, attr_rep, svg_text, perl = TRUE)\n          out &lt;- gsub(style_pat, style_rep, out, perl = TRUE)\n          out\n        }\n        # Apply recolor function to replace white color\n        svg_text &lt;- recolor_svg_white(svg_text, new_hex = white_hex, replace_stroke = replace_stroke)\n      }\n  \n      # 3) Rasterize the (possibly modified) SVG at 4:3\n      raw_png &lt;- rsvg_png(charToRaw(svg_text), width = px, height = round(px * 3/4))\n      img &lt;- image_read(raw_png)\n  \n      # 4) Centered square crop (uses full height for 4:3)\n      if (!shape %in% c(\"4x3\", \"1x1\", \"round\")) { stop(\"Unknown 'shape' specified. Choose between '4x3', '1x1' or 'round'\") }\n      \n      if (shape == \"round\") {\n          # 1) Make a circular (white) mask as SVG and rasterize it\n          .make_circle_mask &lt;- function(d_px) {\n              svg &lt;- glue(\n              \"&lt;svg xmlns='http://www.w3.org/2000/svg' width='{d_px}' height='{d_px}' viewBox='0 0 {d_px} {d_px}'&gt;\n               &lt;rect width='100%' height='100%' fill='black'/&gt;\n               &lt;circle cx='{d_px/2}' cy='{d_px/2}' r='{d_px/2}' fill='white'/&gt;\n              &lt;/svg&gt;\"\n              )\n              image_read(rsvg_png(charToRaw(svg), width = d_px, height = d_px))\n          }\n          info &lt;- image_info(img)\n          d &lt;- min(info$width, info$height)\n          x_off &lt;- floor((info$width  - d) / 2)\n          y_off &lt;- floor((info$height - d) / 2)\n          square &lt;- image_crop(img, sprintf(\"%dx%d+%d+%d\", d, d, x_off, y_off))\n          mask &lt;- .make_circle_mask(d)\n          circ &lt;- image_composite(square, mask, operator = \"CopyOpacity\")\n          image_write(circ, path = dest_path, format = \"png\")\n          \n      } else if (shape == \"1x1\"){\n          info &lt;- image_info(img)\n          d &lt;- min(info$width, info$height)\n          x_off &lt;- floor((info$width  - d) / 2)\n          y_off &lt;- floor((info$height - d) / 2)\n          square &lt;- image_crop(img, sprintf(\"%dx%d+%d+%d\", d, d, x_off, y_off))\n          image_write(square, path = dest_path, format = \"png\")\n          \n      } else if (shape == \"4x3\") {\n          image_write(img, path = dest_path, format = \"png\")\n      }\n    }\n\n    # Iterate through images to download them and apply function\n    purrr::pwalk(country_flags, function(ISO2, flag_url, png_file_path, ...) {\n  \n      circular_crop_and_save(\n        iso2_code = ISO2, \n        url = flag_url, \n        dest_path = png_file_path, \n        px = 1600,\n        white_hex = white.background, \n        replace_stroke = FALSE\n      )\n      \n    })\n    \n    # Return 'country_flags' which will be used in the ggplot\n    return(country_flags)\n    \n    }\n}\n\n\n# --- Configuration ---\ndownload_url &lt;- \"https://images.transparencycdn.org/images/CPI2024_Results-and-trends.zip\"\nzip_filename &lt;- \"CPI2024_Results-and-trends.zip\"\n\n# Where the data should be extracted and saved\nextract_dir &lt;- file.path(project_path, \"data\") \nexcel_file_in_zip_pattern &lt;- \"CPI2024_Results and trends.xlsx\"\n\n# Define the full path to the final, imported Excel file\nfinal_excel_path &lt;- file.path(extract_dir, excel_file_in_zip_pattern)\n\n# --- CONDITIONAL CHECK: Only proceed if the final data file is MISSING ---\nif (!file.exists(final_excel_path)) {\n  \n  message(\"--- Starting Data Download and Import ---\")\n\n  # --- 1. Download the ZIP file ---\n  message(\"1. Downloading the ZIP file...\")\n  \n  response &lt;- GET(download_url, \n                  write_disk(path = zip_filename, overwrite = TRUE))\n\n  if (http_status(response)$category == \"Success\") {\n    message(\"    ‚úÖ Download complete.\")\n  } else {\n    stop(paste(\"    ‚ùå Download failed with status:\", http_status(response)$reason))\n  }\n\n  # --- 2. Extract the ZIP file ---\n  message(\"2. Extracting the ZIP file...\")\n\n  if (!dir.exists(extract_dir)) {\n    dir.create(extract_dir)\n  }\n\n  unzip_status &lt;- unzip(zip_filename, \n                        exdir = extract_dir,\n                        overwrite = TRUE)\n\n  if (length(unzip_status) &gt; 0) {\n    message(paste(\"    ‚úÖ Extracted\", length(unzip_status), \"files to:\", extract_dir))\n  } else {\n    stop(\"    ‚ùå Extraction failed. Check if the ZIP file is valid.\")\n  }\n  \n  # Clean up the downloaded ZIP file\n  file.remove(zip_filename)\n  \n} else {\n  # This message will display if the file is found and we skip the download/extract steps\n  message(paste(\"--- üîî Skipping download: Data file found at\", final_excel_path, \"---\"))\n}\n\n# --- 3. Import the Excel Data (Always Run) ---\n# We always import the data to make sure the 'cpi_data' object is available \n# in the R session, regardless of whether it was downloaded/extracted this time.\n\n# Find the exact Excel filename matching the pattern inside the directory\nexcel_filename &lt;- list.files(extract_dir, pattern = excel_file_in_zip_pattern, full.names = FALSE)[1]\nexcel_path &lt;- file.path(extract_dir, excel_filename)\n\nmessage(paste(\"3. Importing data from:\", excel_filename))\n\ncpi_data &lt;- read_excel(\n  path = excel_path, \n  sheet = \"CPI Historical\", \n  skip = 2,           \n  col_names = TRUE    \n)\n\nmessage(\"    ‚úÖ Data successfully imported into 'cpi_data'.\")\n\nrm(list = ls()[!ls() %in% c(\"cpi_data\", \"project_path\", \"get_country_flags\")])\n\n\n# Clean names\ncpi_data &lt;- cpi_data %&gt;% clean_names()\n\n# Convert categorical variables to factors\ncpi_data &lt;- cpi_data %&gt;% mutate(across(\n  .cols = c(country_territory, iso3, region),\n  .fns = factor\n))\n\n# Set main colors\nbig_four_col &lt;- \"#4a6798\"\nother_col &lt;- \"grey80\"\n\n# filter for 'WE/EU' region and year = 2024 and create color and country groupings\ncpi_data_europe_2024 &lt;- cpi_data %&gt;% filter(region == \"WE/EU\", year == 2024) %&gt;%\n    mutate(country_territory = fct_reorder(country_territory, cpi_score),\n           country_territory = fct_drop(country_territory),\n           country_color = case_when(\n               country_territory %in% c(\"United Kingdom\", \"Germany\", \"France\", \"Italy\") ~ big_four_col,\n               .default = other_col\n           ),\n           country_group = case_when(\n               country_territory %in% c(\"United Kingdom\", \"Germany\", \"France\", \"Italy\") ~ \"big_four\",\n               .default = \"other\"\n           ))\n\n# Calculate regional average CPI score\ncpi_data_europe_2024_average &lt;- cpi_data_europe_2024 %&gt;% summarise(mean_cpi = mean(cpi_score)) %&gt;% pull()\n\n\n# Get the countries boundaries\neurope_sf &lt;- gisco_get_countries(resolution = \"3\", region = \"Europe\")\n\n# \"Target\" countries\ntarget_countries &lt;- c(\"France\", \"United Kingdom\", \"Italy\", \"Germany\")\n\n# Other WE/EU countries\nwe_eu_countries &lt;- cpi_data_europe_2024 %&gt;%\n                        filter(!country_territory %in% c(\"France\", \"United Kingdom\", \"Italy\", \"Germany\")) %&gt;%                              pull(country_territory)\n\n# Create country groupings\neurope_sf &lt;- europe_sf %&gt;%\n  mutate(\n    # Clean up giscoR names if needed or match by ISO code (CNTR_ID)\n    status = case_when(\n      NAME_ENGL %in% target_countries ~ \"big_four\",\n      NAME_ENGL %in% we_eu_countries ~ \"WE/EU\",\n      TRUE ~ \"Rest\" # Everything else (Russia, Belarus, Balkans, etc.)\n    )\n  )\n\ncrs_longlat &lt;- \"+proj=longlat +datum=WGS84 +no_defs\"\n\ncrs_lambert &lt;- \"+proj=laea +lat_0=52 +lon_0=10 x_0=4321000 y_0=321000 +datum=WGS84 +units=m +no_defs\"\n\neurope_laea &lt;- st_transform(europe_sf, crs = \"+proj=laea\")\n\nget_bbox &lt;- function(){\n    bb &lt;- st_sfc(\n        st_polygon(list(\n            cbind(\n                c(-10.6, 33.0, 33.0, -10.6, -10.6),\n                c(32.5, 32.5, 71.05, 71.05, 32.5)\n            ))), crs = crs_longlat\n    ) %&gt;% st_transform(crs = crs_lambert) %&gt;% \n        st_bbox()\n    \n    return(bb)\n}\n\nbb &lt;- get_bbox()\n\n# Create inset map\nmap_inset &lt;- ggplot(europe_laea) +\n              geom_sf(aes(fill = status), color = \"white\", size = 0.2) +\n              \n              # Define the specific colors\n              scale_fill_manual(\n                values = c(\n                  \"big_four\" = big_four_col, # Your specified blue\n                  \"WE/EU\"  = other_col,  # Your specified grey\n                  \"Rest\"   = \"grey95\"   # Very light grey for context\n                )\n              ) +\n              \n              # Zoom in on Europe (Camera view)\n              coord_sf(crs = crs_lambert,\n                       xlim = c(bb[\"xmin\"], bb[\"xmax\"]),\n                       ylim = c(bb[\"ymin\"], bb[\"ymax\"])\n                       ) +\n              \n              theme_void() +\n              theme(legend.position = \"none\",\n                    panel.background = element_rect(fill = \"transparent\", color = NA),\n                    plot.background  = element_rect(fill = \"transparent\", color = NA))\n\n\n# Run function to download flags of desired shape and white color replacement\n\n#############\n# ---1. 'Round' flags, white color replaced by light grey\ncountry_flags_round &lt;- get_country_flags(.data = cpi_data_europe_2024,\n                                  country_col = \"iso3\",\n                                  shape = \"round\",\n                                  white.background = \"#EEEEEE\")\n\n# Add coordinates for flag mapping in ggplot\ncountry_flags_round &lt;- country_flags_round %&gt;% mutate(x_pos = -2.5, y_pos = as.numeric(country_territory))\n\n\n#############\n# ---2. '1x1' flags, white color replaced by light grey\ncountry_flags_square &lt;- get_country_flags(.data = cpi_data_europe_2024,\n                                  country_col = \"iso3\",\n                                  shape = \"1x1\",\n                                  white.background = \"#EEEEEE\")\n\n# Add coordinates for flag mapping in ggplot\ncountry_flags_square &lt;- country_flags_square %&gt;% mutate(x_pos = -2.5, y_pos = as.numeric(country_territory))\n\n\n#############\n# ---3. '4x3' flags, white color unchanged\ncountry_flags_rect &lt;- get_country_flags(.data = cpi_data_europe_2024,\n                                  country_col = \"iso3\",\n                                  shape = \"4x3\",\n                                  white.background = TRUE)\n\n# Add coordinates for flag mapping in ggplot\ncountry_flags_rect &lt;- country_flags_rect %&gt;% mutate(x_pos = -2.5, y_pos = as.numeric(country_territory))\n\n\n# Choose default font\nfont_choice &lt;- \"Momo Trust Sans\"\n\n# Load Google Fonts into 'sysfonts'\nfont_add_google(font_choice, db_cache = FALSE)\n\n# Automatically use 'showtext' for new graphics devices\nshowtext_auto()\n\n\np &lt;- ggplot(data = cpi_data_europe_2024, aes(x = cpi_score, y = country_territory)) +\n    geom_vline(xintercept = cpi_data_europe_2024_average, color = \"#BF0A30\") +\n    geom_segment(aes(x = 0, y = country_territory, xend = cpi_score, yend = country_territory,\n                     color = country_color),\n                 linewidth = 1.6) +\n    geom_point(aes(color = country_color), size = 2.3) +\n    scale_color_identity() +\n    scale_x_continuous(breaks = seq(0, 100, by = 25), expand = expansion(mult = c(0.04, 0))) +\n    coord_cartesian(xlim = c(0, 100),\n                    ylim = c(1, length(levels(cpi_data_europe_2024$country_territory))),\n                    clip = \"off\") +\n    theme_minimal(base_family = font_choice, base_size = 14) +\n    theme(panel.grid.major.x = element_line(linetype = 2),\n          panel.grid.minor.x = element_blank(),\n          panel.grid.major.y = element_blank(),\n          panel.grid.minor.y = element_blank(),\n          axis.title.x = element_blank(),\n          axis.title.y = element_blank(),\n          plot.title.position = \"plot\",\n          plot.title = element_markdown(hjust = 0, face = \"bold\", margin = margin(b = 5),\n                                      lineheight = 1, size = rel(1.6)), # left-align title\n          plot.subtitle = element_markdown(hjust = 0, margin = margin(t = 3, b = 40),\n                                         size = rel(1), lineheight = 1.2,\n                                         color = \"#181818\"), # left-align subtitle\n          plot.caption.position = \"plot\",\n          plot.caption = element_markdown(hjust = 0, vjust = 0, colour = \"grey50\",\n                                          margin = margin(t = 20), lineheight = 1.25),\n          plot.margin = margin(t = 18.5, r = 40, b = 13.6, l = 18.5, unit = \"pt\")) +\n    labs(x = NULL, y = NULL,\n         title = paste0(\"Among Europe's &lt;span style='color: #4a6798;'&gt;Big Four&lt;/span&gt; only Italy ranks as more corrupt\",\n             \"&lt;br&gt;\", \"than the Western European/European Union average\"),\n         subtitle = paste0(\"Corruption Perceptions Index (CPI) based on expert and business assessments of \",\n                             \"public-sector\", \"&lt;br&gt;\", \"corruption (2024). Scores range from 0 = highly corrupt to 100 = very clean.\"),\n         caption = paste0(\"&lt;b&gt;Data source&lt;/b&gt;: Transparency International (2024)\", \"&lt;br&gt;\",\n                            \"&lt;b&gt;Note&lt;/b&gt;: The inset map shows the region &lt;Western Europe/European Union&gt; as defined by Transparency International.\", \"&lt;br&gt;\",\n                            \"&lt;b&gt;Graphic&lt;/b&gt;: The Data Decoded / @TheDataDecoded\")\n           ) +\n    geom_richtext(data = tibble(x = cpi_data_europe_2024_average,\n                         y = length(levels(cpi_data_europe_2024$country_territory))*1.052,\n                         label = paste0(\"Average CPI&lt;br&gt;\", round(cpi_data_europe_2024_average, 0))),\n                  aes(x = x, y = y, label = label),\n                                      inherit.aes = FALSE,\n                  hjust  = 0.5,\n                  family = font_choice,\n                  size   = 4,\n                  colour = \"#BF0A30\",\n                  fill = NA,\n                  label.colour = NA\n             )\n\n\nRound flags with white background switched to light grey\n\np_round &lt;- p + geom_image(\n          data = country_flags_round, # Only contains 'Europe' row\n          aes(x = x_pos, y = y_pos, image = png_file_path),\n          size = 0.026,\n          asp = 1,\n          inherit.aes = FALSE\n        ) +\n    inset_element(\n                map_inset,\n                left   = 0.645,   # center the inset horizontally\n                right  = 1,\n                bottom = 0.05,   # move it toward the top\n                top    = 0.55,\n                align_to = \"panel\"\n        )\n\nsvg_path &lt;- file.path(project_path, \"plots\", \"thumb.svg\")\n\nsvg_w &lt;- 9.3\nsvg_h &lt;- 10.4\n\npng_w &lt;- 2000\npng_h &lt;- round(png_w * svg_h / svg_w)  # keep same aspect ratio\n\nggsave(svg_path, p_round, width = svg_w, height = svg_h)\n\nlibrary(rsvg)\n\npng_path &lt;- file.path(project_path, \"plots\", \"corruption_index_big_four_round.png\")\n\nrsvg_png(\n  svg  = svg_path,\n  file = png_path,\n  width  = png_w,\n  height = png_h\n)\n\n\n\n\nSquare flags with white background switched to light grey\n\np_square &lt;- p + geom_image(\n          data = country_flags_square, # Only contains 'Europe' row\n          aes(x = x_pos, y = y_pos, image = png_file_path),\n          size = 0.026,\n          asp = 1,\n          inherit.aes = FALSE\n        ) +\n    inset_element(\n                map_inset,\n                left   = 0.645,   # center the inset horizontally\n                right  = 1,\n                bottom = 0.05,   # move it toward the top\n                top    = 0.55,\n                align_to = \"panel\"\n        )\n\nsvg_path &lt;- file.path(project_path, \"plots\", \"corruption_index_big_four_square.svg\")\n\nsvg_w &lt;- 9.3\nsvg_h &lt;- 10.4\n\npng_w &lt;- 2000\npng_h &lt;- round(png_w * svg_h / svg_w)  # keep same aspect ratio\n\nggsave(svg_path, p_square, width = svg_w, height = svg_h)\n\nlibrary(rsvg)\n\npng_path &lt;- file.path(project_path, \"plots\", \"corruption_index_big_four_square.png\")\n\nrsvg_png(\n  svg  = svg_path,\n  file = png_path,\n  width  = png_w,\n  height = png_h\n)\n\n\n\n\nRectangular flags with white background preserved\n\np_rect &lt;- p + geom_image(\n          data = country_flags_rect, # Only contains 'Europe' row\n          aes(x = x_pos, y = y_pos, image = png_file_path),\n          size = 0.026,\n          asp = 1,\n          inherit.aes = FALSE\n        ) +\n    inset_element(\n                map_inset,\n                left   = 0.645,   # center the inset horizontally\n                right  = 1,\n                bottom = 0.05,   # move it toward the top\n                top    = 0.55,\n                align_to = \"panel\"\n        )\n\nsvg_path &lt;- file.path(project_path, \"plots\", \"corruption_index_big_four_rect.svg\")\n\nsvg_w &lt;- 9.3\nsvg_h &lt;- 10.4\n\npng_w &lt;- 2000\npng_h &lt;- round(png_w * svg_h / svg_w)  # keep same aspect ratio\n\nggsave(svg_path, p_rect, width = svg_w, height = svg_h)\n\nlibrary(rsvg)\n\npng_path &lt;- file.path(project_path, \"plots\", \"corruption_index_big_four_rect.png\")\n\nrsvg_png(\n  svg  = svg_path,\n  file = png_path,\n  width  = png_w,\n  height = png_h\n)"
  },
  {
    "objectID": "visuals/2025-12-europe-military-expenditure/index.html",
    "href": "visuals/2025-12-europe-military-expenditure/index.html",
    "title": "Which European countries spend most on their military?",
    "section": "",
    "text": "Text explaining chart"
  }
]